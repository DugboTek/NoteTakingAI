{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/sdugb/OneDrive/Desktop/scribeaiapp/NoteTakingAI/noteai/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/sdugb/OneDrive/Desktop/scribeaiapp/NoteTakingAI/noteai/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/sdugb/OneDrive/Desktop/scribeaiapp/NoteTakingAI/noteai/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// create a react component that inputs a textarea message then performs a fetch request to localhost:3001 gets back a response a data.message and displys that message in a box below\nimport React,{useState}from'react';import'./App.css';import TextWriter from'./components/TextWriter.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),response=_useState4[0],setResponse=_useState4[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return fetch('http://localhost:3001',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({message:message})}).then(function(res){return res.json();}).then(function(data){return setResponse(data.message);});case 3:response=_context.sent;case 4:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var _ref2=useState<FormData|null>null,_ref3=_slicedToArray(_ref2,2),formData=_ref3[0],setFormData=_ref3[1];// write a handleFile function that takes in a file and sets the formData state to a new FormData object with the file appended to it\nvar handleFile=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var file,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(!(e.target.files&&e.target.files[0])){_context2.next=10;break;}file=e.target.files[0];data=new FormData();data.append(\"file\",file);data.append(\"model\",\"whisper-1\");data.append(\"language\",\"en\");setFormData(data);if(!(file.size>25*1024*1024)){_context2.next=10;break;}alert(\"Please upload an audio file less than 25MB\");return _context2.abrupt(\"return\");case 10:case\"end\":return _context2.stop();}},_callee2);}));return function handleFile(_x2){return _ref4.apply(this,arguments);};}();var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),convertedText=_useState6[0],setConvertedText=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var sendAudio=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var _process$env$NEXT_PUB;var res,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:setLoading(true);_context3.next=3;return fetch(\"https://api.openai.com/v1/audio/transcriptions\",{headers:{Authorization:\"Bearer \".concat((_process$env$NEXT_PUB=process.env.NEXT_PUBLIC_OPENAI_API_KEY)!==null&&_process$env$NEXT_PUB!==void 0?_process$env$NEXT_PUB:\"\")},method:\"POST\",body:formData});case 3:res=_context3.sent;_context3.next=6;return res.json();case 6:data=_context3.sent;setLoading(false);setConvertedText(data.text);case 9:case\"end\":return _context3.stop();}},_callee3);}));return function sendAudio(){return _ref5.apply(this,arguments);};}();/*const handleFile = async (e: ChangeEvent<HTMLInputElement>) => {\r\n    if (e.target.files && e.target.files[0]) {\r\n      const file = e.target.files[0];\r\n     \r\n      const data = new FormData();\r\n      data.append(\"file\", file);\r\n      data.append(\"model\", \"whisper-1\");\r\n      data.append(\"language\", \"en\");\r\n      setFormData(data);\r\n\r\n      // check if the size is less than 25MB\r\n      if (file.size > 25 * 1024 * 1024) {\r\n        alert(\"Please upload an audio file less than 25MB\");\r\n        return;\r\n      }\r\n    }\r\n  };*/return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Quick Note\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"audio/*\"}),/*#__PURE__*/_jsx(\"button\",{onClick:sendAudio,children:\"Send Audio\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"textarea\",{value:message,onChange:function onChange(e){return setMessage(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"})]}),/*#__PURE__*/_jsx(\"div\",{children:response}),/*#__PURE__*/_jsx(TextWriter,{text:convertedText,delay:10})]});}export default App;","map":{"version":3,"names":["React","useState","TextWriter","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","message","setMessage","_useState3","_useState4","response","setResponse","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","wrap","_callee$","_context","prev","next","preventDefault","fetch","method","headers","body","JSON","stringify","then","res","json","data","sent","stop","_x","apply","arguments","_ref2","FormData","_ref3","formData","setFormData","handleFile","_ref4","_callee2","file","_callee2$","_context2","target","files","append","size","alert","abrupt","_x2","_useState5","_useState6","convertedText","setConvertedText","_useState7","_useState8","loading","setLoading","sendAudio","_ref5","_callee3","_process$env$NEXT_PUB","_callee3$","_context3","Authorization","concat","process","env","NEXT_PUBLIC_OPENAI_API_KEY","text","className","children","type","accept","onClick","onSubmit","value","onChange","delay"],"sources":["C:/Users/sdugb/OneDrive/Desktop/scribeaiapp/NoteTakingAI/noteai/src/App.js"],"sourcesContent":["// create a react component that inputs a textarea message then performs a fetch request to localhost:3001 gets back a response a data.message and displys that message in a box below\r\n\r\nimport React, { useState } from 'react'\r\nimport './App.css'\r\nimport TextWriter from './components/TextWriter.js';\r\n\r\nfunction App() {\r\n  const [message, setMessage] = useState('')\r\n  const [response, setResponse] = useState('')\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n    const response = await fetch('http://localhost:3001', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({ message })\r\n    })\r\n    .then(res => res.json())\r\n    .then((data) => setResponse(data.message));\r\n  };\r\n\r\nconst [formData, setFormData] = useState<FormData | null>(null);\r\n// write a handleFile function that takes in a file and sets the formData state to a new FormData object with the file appended to it\r\n\r\nconst handleFile = async(e) =>{\r\n  \r\n  if (e.target.files && e.target.files[0]) {\r\n    const file = e.target.files[0];\r\n    const data = new FormData();\r\n    data.append(\"file\", file);\r\n    data.append(\"model\", \"whisper-1\");\r\n    data.append(\"language\", \"en\");\r\n    setFormData(data);\r\n    if (file.size > 25 * 1024 * 1024) {\r\n      alert(\"Please upload an audio file less than 25MB\");\r\n      return;\r\n    }\r\n  }\r\n}\r\n\r\nconst [convertedText, setConvertedText] = useState(\"\");\r\nconst [loading, setLoading] = useState(false);\r\n\r\nconst sendAudio = async () => {\r\n  setLoading(true);\r\n  const res = await fetch(\"https://api.openai.com/v1/audio/transcriptions\", {\r\n    headers: {\r\n      Authorization: `Bearer ${process.env.NEXT_PUBLIC_OPENAI_API_KEY ?? \"\"}`,\r\n    },\r\n    method: \"POST\",\r\n    body: formData,\r\n  });\r\n\r\n  const data = await res.json();\r\n  setLoading(false);\r\n\r\n  setConvertedText(data.text);\r\n};\r\n\r\n /*const handleFile = async (e: ChangeEvent<HTMLInputElement>) => {\r\n    if (e.target.files && e.target.files[0]) {\r\n      const file = e.target.files[0];\r\n     \r\n      const data = new FormData();\r\n      data.append(\"file\", file);\r\n      data.append(\"model\", \"whisper-1\");\r\n      data.append(\"language\", \"en\");\r\n      setFormData(data);\r\n\r\n      // check if the size is less than 25MB\r\n      if (file.size > 25 * 1024 * 1024) {\r\n        alert(\"Please upload an audio file less than 25MB\");\r\n        return;\r\n      }\r\n    }\r\n  };*/\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <h1>Quick Note</h1>\r\n      <input\r\n            type=\"file\"\r\n            accept=\"audio/*\"\r\n      />\r\n      <button onClick={sendAudio}>Send Audio</button>\r\n      <form onSubmit={handleSubmit}>\r\n        <textarea value={message} onChange={(e) => setMessage(e.target.value)} />\r\n        <button type=\"submit\">Submit</button>\r\n      </form>\r\n      <div>{response}</div>\r\n      <TextWriter text={convertedText} delay={10} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}